(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},12:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(4),r={total_results:0,total_pages:0,current_page:1},o=function(e){return function(t){t(function(e){return{type:"SET_TOTAL_PAGES",payload:e}}(e))}},i=function(e){return function(t){t(function(e){return{type:"SET_CURRENT_PAGE",payload:e}}(e))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOTAL_PAGES":return Object(a.a)({},e,{total_results:t.payload.total_results,total_pages:t.payload.total_pages});case"SET_CURRENT_PAGE":return Object(a.a)({},e,{current_page:t.payload});default:return e}}},125:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),i=n.n(o),c=(n(100),n(20)),s=(n(101),n(102),n(137)),u=n(30),l=n(11),d=function(e){var t=e.link,n=e.item;return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:t,className:"nav-link",activeClassName:"active"},n))},_=n(28),f=n(140),p=n(132),m=n(139),v=n(19),g=n(15),b=n(50),E=(n(125),n(12)),h=Object(g.d)(Object(v.b)((function(e){return{found_movies:e.found_movies.found_movies,found_person:e.found_movies.found_person,found_movies_dropdown:e.found_movies.found_movies_dropdown}}),{searchMoviesDropdown:b.b,setCurrentPage:E.b}),_.g)((function(e){var t=e.isAuth,n=(e.found_movies,e.searchMoviesDropdown),o=e.found_movies_dropdown,i=e.setCurrentPage,s=Object(c.a)(e,["isAuth","found_movies","searchMoviesDropdown","found_movies_dropdown","setCurrentPage"]);console.log("isAuth=",t);var _=Object(a.useState)(""),v=Object(u.a)(_,2),g=v[0],b=v[1],E=Object(a.useState)({visible:!1,class:""}),h=Object(u.a)(E,2),y=h[0],O=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{bg:"dark",variant:"dark",expand:"sm"},r.a.createElement(l.b,{to:"/",className:"navbar-brand"},r.a.createElement("img",{className:"logo",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg",alt:"logo"})),r.a.createElement(p.a,{className:"mr-auto"},r.a.createElement(m.a,{title:"\u0424\u0438\u043b\u044c\u043c\u044b",id:"basic-nav-dropdown"},r.a.createElement(l.b,{to:"/popular-movies"},"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"),r.a.createElement(l.b,{to:"/now-playing"},"\u0421\u043c\u043e\u0442\u0440\u044f\u0442 \u0441\u0435\u0439\u0447\u0430\u0441"),r.a.createElement(l.b,{to:"/upcoming"},"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435")),r.a.createElement(d,{link:"/person",item:"\u041b\u044e\u0434\u0438"}),r.a.createElement(d,{link:"/profile",item:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),": ",r.a.createElement(d,{link:"/login",item:"\u0412\u0445\u043e\u0434"}))),r.a.createElement("div",{className:"search_form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g&&(i(1),O({visible:!1,class:""}),console.log("redirect"),s.history.push("/search/s_query="+g),b(""))}},r.a.createElement("label",null,r.a.createElement("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",className:"mr-sm-2",onChange:function(e){!function(e){b(e),e.length>2?(n(e),O({visible:!0,class:"visible"})):O({visible:!1,class:""})}(e.target.value)},value:g}),r.a.createElement("button",{variant:"outline-light"},"Search"),r.a.createElement("div",{className:"dropdown_search_container"},r.a.createElement("div",{className:"dropdown_search ".concat(y.class)},y.visible&&o&&o.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("img",{className:"border",src:e.poster_path?"https://image.tmdb.org/t/p/w92/".concat(e.poster_path):"/img/no_poster.jpg",alt:"\u043f"}),e.title)}))))))))})),y=Object(g.d)(Object(v.b)((function(e){return{isAuth:e.auth.isAuth}}),{}),_.g)((function(e){var t=e.isAuth;return r.a.createElement("div",{className:"main_header bg-dark"},r.a.createElement(s.a,null,r.a.createElement(h,{isAuth:t})))})),O=n(16),S=(n(62),n(47)),I=n(32),N=n(35),T=n(67),R=n(68),j=n(55),F=n(40),w=n(31),D=Object(v.b)((function(e){return Object(O.a)({genres:e.genres.genres,request:e.discover.request,discover_movies_is_fetching:e.discover.discover_movies_is_fetching,discover_movies:e.discover.discover_movies,current_page:e.pagination.current_page,total_pages:e.pagination.total_pages,total_results:e.pagination.total_results,isAuth:e.auth.isAuth,session_id:e.auth.session_id,your_rate:e.movies.your_rate},"session_id",e.auth.session_id)}),{getGenres:S.b,setCurrentPage:E.b,setRequestData:I.d,setRequestDataGenreIds:I.e,getDiscoverMovies:I.c,discoverMoviesIsFetching:I.b,rateMovie:N.f,getAccountStates:N.b,rateMovieDelete:N.g,getDetails:F.b,authentication:w.a})((function(e){var t=e.discover_movies,n=e.getDiscoverMovies,o=e.discover_movies_is_fetching,i=(e.popular_movies,e.popular_movies_isFetching,e.getGenres),s=e.genres,u=e.setRequestData,l=e.request,d=e.setRequestDataGenreIds,_=(e.discoverMoviesIsFetching,e.isAuth),f=e.rateMovie,p=e.session_id,m=e.getAccountStates,v=e.your_rate,g=e.rateMovieDelete,b=e.getDetails,E=e.authentication,h=Object(c.a)(e,["discover_movies","getDiscoverMovies","discover_movies_is_fetching","popular_movies","popular_movies_isFetching","getGenres","genres","setRequestData","request","setRequestDataGenreIds","discoverMoviesIsFetching","isAuth","rateMovie","session_id","getAccountStates","your_rate","rateMovieDelete","getDetails","authentication"]);console.log("props=",h),Object(a.useEffect)((function(){E()}),[]),Object(a.useEffect)((function(){p&&b(p)}),[p]),Object(a.useEffect)((function(){n(l,h.current_page)}),[h.current_page,l.release_date_gte]),Object(a.useEffect)((function(){i(),u({sort_by:"popularity.desc",release_date_gte:"",release_date_lte:"",btn_is_visible:!1}),d(null,!1)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tittle"},r.a.createElement("h5",null,"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b \u043d\u0430 ",r.a.createElement("a",{href:"https://www.themoviedb.org",target:"_blank"}," TMDb"),":")),r.a.createElement("div",{className:"sides_wrapper"},r.a.createElement("div",{className:"left_side"},r.a.createElement(T.a,Object.assign({request:l,setRequestData:u,genres:s,setRequestDataGenreIds:d,getDiscoverMovies:n},h))),r.a.createElement("div",{className:"right_side border"},r.a.createElement(j.a,h),r.a.createElement("hr",null),r.a.createElement(R.a,Object.assign({discover_movies_is_fetching:o,data:t,isAuth:_,setRateMovie:function(e){var t=e.id,n=e.session_id,a=e.rate;_&&f({id:t,session_id:n,rate:a})},session_id:p,accountStates:function(e){var t=e.id,n=e.session_id;_&&m({id:t,session_id:n})},your_rate:v,rateMovieDelete:g},h)),r.a.createElement("hr",null),r.a.createElement(j.a,h))))})),M=(n(130),function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("a",{href:"https://www.themoviedb.org",target:"_blank"}," \u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0444\u0438\u043b\u044c\u043c\u0430\u0445"))}),A=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(e,t))}},C=r.a.lazy((function(){return n.e(16).then(n.bind(null,163))})),k=r.a.lazy((function(){return n.e(10).then(n.bind(null,164))})),G=r.a.lazy((function(){return n.e(4).then(n.bind(null,166))})),q=r.a.lazy((function(){return Promise.all([n.e(12),n.e(3)]).then(n.bind(null,165))})),U=r.a.lazy((function(){return n.e(11).then(n.bind(null,167))})),x=r.a.lazy((function(){return n.e(5).then(n.bind(null,154))})),P=r.a.lazy((function(){return n.e(6).then(n.bind(null,155))})),L=r.a.lazy((function(){return n.e(8).then(n.bind(null,156))})),H=r.a.lazy((function(){return n.e(7).then(n.bind(null,157))})),V=r.a.lazy((function(){return n.e(9).then(n.bind(null,158))})),z=r.a.lazy((function(){return n.e(13).then(n.bind(null,159))})),Q=r.a.lazy((function(){return n.e(14).then(n.bind(null,160))})),W=r.a.lazy((function(){return n.e(15).then(n.bind(null,161))})),Y=function(e){e.fetchWeather,Object(c.a)(e,["fetchWeather"]);return r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(s.a,{className:"justify-content-md-center"},r.a.createElement(_.d,null,r.a.createElement(_.b,{exact:!0,path:"/",render:function(){return r.a.createElement(_.a,{to:"/popular-movies"})}}),r.a.createElement(_.b,{exact:!0,path:"/movie-info/:movie_id?",render:A(G)}),r.a.createElement(_.b,{exact:!0,path:"/movie-releases/:movie_id?",render:A(U)}),r.a.createElement(_.b,{exact:!0,path:"/casts/:movie_id?",render:A(x)}),r.a.createElement(_.b,{exact:!0,path:"/crew/:movie_id?",render:A(P)}),r.a.createElement(_.b,{exact:!0,path:"/people-filmography/:people_id?",render:A(L)}),r.a.createElement(_.b,{exact:!0,path:"/people-crew/:people_id?",render:A(H)}),r.a.createElement(_.b,{exact:!0,path:"/people/:people_id?",render:A(q)}),r.a.createElement(_.b,{exact:!0,path:"/search/:s_query=:s_query?",render:A(V)}),r.a.createElement(_.b,{exact:!0,path:"/login",render:A(C)}),r.a.createElement(_.b,{exact:!0,path:"/profile",render:A(k)}),r.a.createElement(_.b,{exact:!0,path:"/popular-movies",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(_.b,{exact:!0,path:"/now-playing",render:A(z)}),r.a.createElement(_.b,{exact:!0,path:"/upcoming",render:A(Q)}),r.a.createElement(_.b,{exact:!0,path:"/person",render:A(W)}))),r.a.createElement(M,null))},B=Y=Object(g.d)(Object(v.b)((function(e){return{request_token:e.auth.request_token}}),{getAuth:w.c,authentication:w.a}),A)(Y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(89),K=n(61),Z=Object(g.c)({auth:w.b,movies:N.a,people:K.a,found_movies:b.a,genres:S.a,discover:I.a,pagination:E.a,account:F.a}),$=Object(g.e)(Z,Object(g.a)(J.a));window.store=$;var X=$;i.a.render(r.a.createElement(l.a,null,r.a.createElement(v.a,{store:X},r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return _}));var a=n(4),r=n(8),o="api_key=b4ac21eb69cc3964a743fb16781abe2b",i=r.create({baseURL:"https://api.themoviedb.org/3/authentication/"}),c=function(){return i.get("token/new?"+o).then((function(e){return e.data.request_token}))},s=function(e){return i.post("token/validate_with_login?"+o,e).then((function(e){return e}))},u=function(e){return e={request_token:e},console.log("\u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 createSession",e),i.post("session/new?"+o,e).then((function(e){return e}))},l={request_token:null,username:null,session_id:null,isAuth:!1},d=function(e){return function(e){return c().then((function(t){e({type:"SET_REQUEST_TOKEN",payload:t}),console.log("1-getToken",{request_token:t}),e(_({username:"ZhVA",password:"vadik250783",request_token:t}))}))}},_=function(e){return function(t){return s(e).then((function(n){console.log("2-getAuth=",n.data),t({type:"AUTH_IS_SUCCES",payload:e.username}),t(f(n.data.request_token))}))}},f=function(e){return function(t){return u(e).then((function(e){console.log("3-createSession=",e.data),t({type:"SET_SESSION_ID",payload:e.data.session_id})}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REQUEST_TOKEN":return Object(a.a)({},e,{request_token:t.payload});case"AUTH_IS_SUCCES":return Object(a.a)({},e,{username:t.payload});case"SET_SESSION_ID":return Object(a.a)({},e,{session_id:t.payload,isAuth:!0});default:return e}}},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return g}));var a=n(4),r=n(8),o="api_key=b4ac21eb69cc3964a743fb16781abe2b",i=r.create({baseURL:"https://api.themoviedb.org/3/discover/"}),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.sort_by,a=e.release_date_gte,r=e.release_date_lte,c=e.genres_ids,s="&language=ru-RU&sort_by="+n+"&include_adult=false&include_video=false&with_genres="+c.join(",")+"&release_date.gte="+a+"&release_date.lte="+r+"&page="+t;return i.get("movie?"+o+s).then((function(e){return e.data}))},s=n(12),u=n(91),l=function(e,t){return t?-1===(e.length>0?e.indexOf(t):-1)?[].concat(Object(u.a)(e),[t]):e.filter((function(e){return e!==t})):[]},d={discover_movies:[],discover_movies_is_fetching:!1,request:{sort_by:"popularity.desc",release_date_gte:"",release_date_lte:"",genres_ids:[],btn_is_visible:!1}},_=function(e){return{type:"FETCHING_DISCOVER_MOVIES",payload:e}},f=function(e){return{type:"DISCOVER_MOVIES_IS_FETCHING",payload:e}},p=function(e){return function(t){t(f(e))}},m=function(e){return function(t){t(function(e){return{type:"SET_REQUEST_DATA",payload:e}}(e))}},v=function(e,t){return function(n){n(function(e,t){return{type:"SET_REQUEST_DATA_GENRE_IDS",payload:e,btn_is_visible:t}}(e,t))}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){c(e,t).then((function(e){console.log("discover_movies ",e);var t={total_results:e.total_results,total_pages:e.total_pages};n(Object(s.c)(t)),n(f(!0)),n(_(e.results))}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING_DISCOVER_MOVIES":return Object(a.a)({},e,{discover_movies:t.payload});case"DISCOVER_MOVIES_IS_FETCHING":return Object(a.a)({},e,{discover_movies_is_fetching:t.payload});case"SET_REQUEST_DATA":return Object(a.a)({},e,{request:Object(a.a)({},e.request,{},t.payload)});case"SET_REQUEST_DATA_GENRE_IDS":return Object(a.a)({},e,{request:Object(a.a)({},e.request,{genres_ids:l(e.request.genres_ids,t.payload),btn_is_visible:t.btn_is_visible})});default:return e}}},35:function(e,t,n){"use strict";n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return N})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return R})),n.d(t,"e",(function(){return j}));var a,r=n(17),o=n.n(r),i=n(33),c=n(4),s=n(16),u=n(8),l="api_key=b4ac21eb69cc3964a743fb16781abe2b",d=u.create({baseURL:"https://api.themoviedb.org/3/movie/"}),_=function(e){return d.get(e+"?"+l+"&language=ru-RU&append_to_response=videos,images").then((function(e){return e.data}))},f=function(e){return d.get(e+"/credits?"+l).then((function(e){return e.data}))},p=function(e){return d.get(e+"/release_dates?"+l).then((function(e){return e.data}))},m=function(e){var t=e.id,n=e.session_id,a=e.rate;return d.post(t+"/rating?"+l+"&session_id="+n,{value:a}).then((function(e){return e.data}))},v=function(e){var t=e.id,n=e.session_id;return d.delete(t+"/rating?"+l+"&session_id="+n).then((function(e){return e.data}))},g=function(e){var t=e.session_id,n=e.id;return console.log("!!!!1=",t,n),d.get(n+"/account_states?"+l+"&session_id="+t).then((function(e){return e.data}))},b=u.create({baseURL:"https://api.themoviedb.org/3/configuration/"}),E=function(){return b.get("/countries?api_key=b4ac21eb69cc3964a743fb16781abe2b").then((function(e){return e.data}))},h=(n(12),n(40),a={popular_movies:[],popular_movies_isFetching:!1,total_results:0,total_pages:0,current_page:1,movie_info:{}},Object(s.a)(a,"movie_info",!1),Object(s.a)(a,"credits",[]),Object(s.a)(a,"credits_isFetching",!1),Object(s.a)(a,"releases",[]),Object(s.a)(a,"releases_isFetching",!1),Object(s.a)(a,"genre",[]),Object(s.a)(a,"your_rate",null),a),y=function(e){return{type:"FETCHING_RELEASES",payload:e}},O=function(e){return{type:"SET_YOUR_RATE",payload:e}},S=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e).then((function(e){console.log("movie details",e),console.log("video",e.videos.results),n({type:"FETCHING_MOVIE_DETAILES",payload:e}),n({type:"MOVIE_INFO_IS_FETCHING"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e).then((function(t){console.log("rating",t),n(O(e.rate))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e).then((function(e){console.log("rating delete",e),n(O(null))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(t){f(e).then((function(e){console.log("Credits",e),t({type:"FETCHING_CREDITS",payload:e})}))}},R=function(e){return function(t){g(e).then((function(e){console.log("AccountStates",e),t(O(e.rated.value))}))}},j=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){var a,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:return a=t.sent,console.log("Releases",a.results),t.next=6,E();case 6:r=t.sent,i={},r.map((function(e){return i[e.iso_3166_1]=e.english_name,i})),r.length>0&&a.results&&a.results.map((function(e){e.iso_3166_1=i[e.iso_3166_1]})),console.log("releases",a),n(y(a.results));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_YOUR_RATE":return Object(c.a)({},e,{your_rate:t.payload});case"FETCHING_GENRE":return Object(c.a)({},e,{genre:t.payload});case"FETCHING_POPULAR_MOVIES":return Object(c.a)({},e,{popular_movies:t.payload.popular_movies,popular_movies_isFetching:!0});case"FETCHING_MOVIE_DETAILES":return Object(c.a)({},e,{movie_info:t.payload});case"FETCHING_CREDITS":return Object(c.a)({},e,{credits:t.payload,credits_isFetching:!0});case"FETCHING_RELEASES":return Object(c.a)({},e,{releases:t.payload,releases_isFetching:!0});case"MOVIE_INFO_IS_FETCHING":return Object(c.a)({},e,{movie_info_isFetching:!0});default:return e}}},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var a=n(4),r=n(8),o="api_key=b4ac21eb69cc3964a743fb16781abe2b",i=r.create({baseURL:"https://api.themoviedb.org/3/"}),c=function(e){return i.get("account?"+o+"&session_id="+e).then((function(e){return e.data}))},s=function(e){var t=e.session_id,n=e.account_id,a=e.page,r=void 0===a?1:a;return i.get("account/"+n+"/rated/movies?"+o+"&language=ru-RU&session_id="+t+"&sort_by=created_at.asc&page="+r).then((function(e){return e.data}))},u={user_name:null,account_id:null,rated_movies:[]},l=function(e){return function(t){return c(e).then((function(e){console.log("Account Details",e),t({type:"SET_USER",payload:e});var n=e.id;console.log("id=",n)}))}},d=function(e){return function(t){return s(e).then((function(e){console.log("Rated Movies",e.results),t({type:"SET_RATED_MOVIED",payload:e.results})}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(a.a)({},e,{user_name:t.payload.username,account_id:t.payload.id});case"SET_RATED_MOVIED":return Object(a.a)({},e,{rated_movies:t.payload});default:return e}}},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(4),r=n(8),o=r.create({baseURL:"https://api.themoviedb.org/3/genre/"}),i=function(){return o.get("movie/list?api_key=b4ac21eb69cc3964a743fb16781abe2b&language=ru-RU").then((function(e){return e.data}))},c={genres:[]},s=function(){return function(e){i().then((function(t){e({type:"FETCHING_GENRES",payload:t.genres})}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING_GENRES":return Object(a.a)({},e,{genres:t.payload});default:return e}}},50:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(4),r=n(8),o=r.create({baseURL:"https://api.themoviedb.org/3/search/"}),i=function(e,t){var n="&language=ru-RU&query="+e+"&page="+t+"&include_adult=false";return o.get("multi?api_key=b4ac21eb69cc3964a743fb16781abe2b"+n).then((function(e){return e.data}))},c=n(12),s={found_movies:[],found_person:[],found_tv:[],isFetching:!1,found_movies_dropdown:[]},u=function(e){return{type:"SET_FOUND_MULTI",payload:e}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){i(e,t).then((function(e){console.log("Found_movie ",e);var t={total_results:e.total_results,total_pages:e.total_pages};n(Object(c.c)(t)),n(u(e.results))}))}},d=function(e){return function(t){i(e).then((function(e){console.log("Found_movie ",e),t({type:"SET_FOUND_MOVIES_DROPDOWN",payload:e.results})}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FOUND_MULTI":return Object(a.a)({},e,{found_movies:t.payload.filter((function(e){return"movie"===e.media_type})),found_person:t.payload.filter((function(e){return"person"===e.media_type})),found_tv:t.payload.filter((function(e){return"tv"===e.media_type})),isFetching:!0});case"SET_FOUND_MOVIES_DROPDOWN":return Object(a.a)({},e,{found_movies_dropdown:t.payload});default:return e}}},55:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(22);n(129);t.a=function(e){var t=e.total_pages,n=e.setCurrentPage,a=e.current_page,i=function(e,t){e<=t&&e>=1&&(console.log("current_page ",e),n(e))};return r.a.createElement("div",{className:"pagination_container"},r.a.createElement(o.a,null,1!==a?r.a.createElement(o.a.First,{onClick:function(){return i(1,t)}}):r.a.createElement(o.a.First,{disabled:!0}),1!==a?r.a.createElement(o.a.Prev,{onClick:function(){return i(a-1,t)}}):r.a.createElement(o.a.Prev,{disabled:!0}),r.a.createElement(o.a.Item,{disabled:!0},"".concat(a," of ").concat(t)),a!==t?r.a.createElement(o.a.Next,{onClick:function(){return i(a+1,t)}}):r.a.createElement(o.a.Next,{disabled:!0}),a!==t?r.a.createElement(o.a.Last,{onClick:function(){return i(t,t)}}):r.a.createElement(o.a.Last,{disabled:!0})))}},61:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return h}));var a=n(17),r=n.n(a),o=n(33),i=n(4),c=n(8),s="api_key=b4ac21eb69cc3964a743fb16781abe2b",u=c.create({baseURL:"https://api.themoviedb.org/3/person/"}),l=function(e){return u.get(e+"?"+s).then((function(e){return e.data}))},d=function(e){return u.get(e+"/movie_credits?"+s).then((function(e){return e.data}))},_=function(e){return u.get(e+"/images?"+s).then((function(e){return e.data.profiles}))},f=function(e){console.log("page = ",e);var t="&language=ru-RU&page="+e;return u.get("popular?"+s+t).then((function(e){return e.data}))},p=n(12),m={people:[],people_isFetching:!1,filmography:[],filmography_isFetching:!1,people_image:[],images_isFetching:!1,person_list:[],person_isFetching:!1},v=function(e){return{type:"PERSON_LIST_IS_FETCHING",payload:e}},g=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e).then((function(e){console.log("people ",e),n({type:"FETCHING_PEOPLE",payload:e})}));case 2:return t.next=4,n(b(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(t){d(e).then((function(e){console.log("Filmography ",e),t({type:"FETCHING_PEOPLE_FILMOGRAPHY",payload:e})}))}},E=function(e){return function(t){return _(e).then((function(e){console.log("getImages ",e),t({type:"FETCHING_IMAGES",payload:e})}))}},h=function(e){return function(t){return t(v(!1)),f(e).then((function(e){console.log("getPersonList ",e.results),t(function(e){return{type:"FETCHING_PERSON_LIST",payload:e}}(e.results)),t(v(!0));var n={total_results:e.total_results,total_pages:e.total_pages};t(Object(p.c)(n))}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING_PEOPLE":return Object(i.a)({},e,{people:t.payload,people_isFetching:!0});case"FETCHING_PERSON_LIST":return Object(i.a)({},e,{person_list:t.payload});case"PERSON_LIST_IS_FETCHING":return Object(i.a)({},e,{person_isFetching:t.payload});case"FETCHING_PEOPLE_FILMOGRAPHY":return Object(i.a)({},e,{filmography:t.payload,filmography_isFetching:!0});case"FETCHING_IMAGES":return Object(i.a)({},e,{people_image:t.payload,images_isFetching:!0});default:return e}}},62:function(e,t,n){},67:function(e,t,n){"use strict";var a=n(20),r=n(0),o=n.n(r);t.a=function(e){var t=e.request,n=e.setRequestData,r=e.genres,i=e.setRequestDataGenreIds,c=e.getDiscoverMovies,s=Object(a.a)(e,["request","setRequestData","genres","setRequestDataGenreIds","getDiscoverMovies"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"sort border"},o.a.createElement("h6",null,"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"),o.a.createElement("hr",null),o.a.createElement("p",null,"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),o.a.createElement("select",{value:t.sort_by,onChange:function(e){return n({sort_by:e.target.value,btn_is_visible:!0})}},o.a.createElement("option",{value:"popularity.asc"},"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438 (\u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u0435)"),o.a.createElement("option",{value:"popularity.desc"},"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438 (\u0443\u0431\u044b\u0432\u0430\u043d\u0438\u0435)"),o.a.createElement("option",{value:"original_title.asc"},"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e (\u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u0435)"),o.a.createElement("option",{value:"original_title.desc"},"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e (\u0443\u0431\u044b\u0432\u0430\u043d\u0438\u0435)"),o.a.createElement("option",{value:"release_date.asc"},"\u0434\u0430\u0442\u0430 \u0440\u0435\u043b\u0438\u0437\u0430 (\u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u0435)"),o.a.createElement("option",{value:"release_date.desc"},"\u0434\u0430\u0442\u0430 \u0440\u0435\u043b\u0438\u0437\u0430 (\u0443\u0431\u044b\u0432\u0430\u043d\u0438\u0435)"))),o.a.createElement("div",{className:"filter border"},o.a.createElement("h6",null,"\u0424\u0438\u043b\u044c\u0442\u0440"),o.a.createElement("hr",null),o.a.createElement("p",null,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430:"),o.a.createElement("label",null,"\u043e\u0442 ",o.a.createElement("input",{type:"date",value:t.release_date_gte,onChange:function(e){return n({release_date_gte:e.target.value,btn_is_visible:!0})}}),o.a.createElement("br",null),"\u0434\u043e ",o.a.createElement("input",{type:"date",value:t.release_date_lte,onChange:function(e){return n({release_date_lte:e.target.value,btn_is_visible:!0})}})),o.a.createElement("hr",null),o.a.createElement("p",null,"\u0416\u0430\u043d\u0440\u044b:"),r&&r.map((function(e,n){return o.a.createElement("span",{className:-1!==t.genres_ids.indexOf(e.id)?"active border":"border",key:e.id,onClick:function(){return i(e.id,!0)}},e.name)}))),t.btn_is_visible&&o.a.createElement("div",{className:"request_btn",onClick:function(){n({btn_is_visible:!1}),c(t),s.setCurrentPage(1)}},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"))}},68:function(e,t,n){"use strict";var a=n(30),r=n(20),o=n(0),i=n.n(o),c=(n(62),n(138)),s=n(84),u=n(11),l=function(e){var t=e.item,n=e.session_id,a=e.rateMovie,r=e.rateMovieRemove,o=e.isAuth,c=e.your_rate,l=e.accountStates,d=e.rateVisibleId,_=e.setRateVisibleId;return i.a.createElement("div",{className:"card_wrapp"},i.a.createElement("div",{className:"rate_drop_down border ".concat(d===t.id?"visible":"")},o?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{id:t.id,rateMovie:a,your_rate:c,setRateVisibleId:_,rateMovieRemove:r})):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"\u0425\u043e\u0442\u0438\u0442\u0435 \u043e\u0446\u0435\u043d\u0438\u0442\u044c?"),i.a.createElement(u.b,{to:"login",className:"navbar-brand"},"\u0412\u043e\u0439\u0442\u0438"))),i.a.createElement("div",{className:"rate_btn border",onClick:function(e){if(d)_(null);else{var a=t.id;l({id:a,session_id:n}),_(t.id)}e.preventDefault(),e.stopPropagation()}},"\u2605"),i.a.createElement(u.b,{to:"/movie-info/".concat(t.id),className:"navbar-brand"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"content"},i.a.createElement("img",{src:t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):"/img/no_poster.jpg",alt:"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c"}),i.a.createElement("div",{className:"description"},i.a.createElement("span",null,t.title),i.a.createElement("br",null),i.a.createElement("span",null,i.a.createElement("i",null,t.release_date)),i.a.createElement("span",null,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",t.vote_average))))))},d=function(e){var t=e.data,n=e.isAuth,r=e.setRateMovie,c=e.session_id,s=e.accountStates,u=e.your_rate,d=e.rateMovieDelete;console.log("isAuth=",n);var _=Object(o.useState)(null),f=Object(a.a)(_,2),p=f[0],m=f[1];Object(o.useEffect)((function(){}),[]);var v=function(e){var t=e.id,n=e.rate;r({id:t,session_id:c,rate:n})},g=function(e){var t=e.id;d({id:t,session_id:c})};return i.a.createElement(i.a.Fragment,null,t.length>0?t.map((function(e){return i.a.createElement(l,{key:e.id,item:e,session_id:c,rateMovie:v,rateMovieRemove:g,isAuth:n,your_rate:u,accountStates:s,rateVisibleId:p,setRateVisibleId:m})})):i.a.createElement("p",null,"\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u043c\u043e\u0432, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0444\u0438\u043b\u044c\u0442\u0440\u0443"))};t.a=function(e){var t=e.rateMovieDelete,n=e.discover_movies_is_fetching,a=e.data,o=e.isAuth,s=e.session_id,u=e.setRateMovie,l=e.accountStates,_=e.your_rate;Object(r.a)(e,["rateMovieDelete","discover_movies_is_fetching","data","isAuth","session_id","setRateMovie","accountStates","your_rate"]);return i.a.createElement("div",{className:"card_container"},n?i.a.createElement(d,{data:a,isAuth:o,session_id:s,setRateMovie:u,accountStates:l,your_rate:_,rateMovieDelete:t}):i.a.createElement(c.a,{animation:"border"}))}},84:function(e,t,n){"use strict";var a=n(30),r=n(0),o=n.n(r),i=(n(128),[1,2,3,4,5,6,7,8,9,10]);t.a=function(e){var t=e.rateMovie,n=e.id,c=e.your_rate,s=e.setRateVisibleId,u=e.rateMovieRemove,l=Object(r.useState)(null),d=Object(a.a)(l,2),_=d[0],f=d[1];return o.a.createElement("div",{className:"rate_stars_container border"},o.a.createElement("div",{className:"rate_star_wrap",onMouseOut:function(){return f(null)}},o.a.createElement("div",{className:"remove_rate border",onClick:function(){s(null),u({id:n})}},"\u2716"),i.map((function(e,a){return o.a.createElement("div",{key:e,className:"rate_star ".concat(a<c?"active":"").concat(a==_?" red":""),onMouseOver:function(){return f(a)},onMouseOut:function(){},onClick:function(){t({id:n,rate:e}),f(null)}})})),o.a.createElement("div",null,"\xa0",c||0)))}},95:function(e,t,n){e.exports=n(131)}},[[95,1,2]]]);
//# sourceMappingURL=main.be4c9347.chunk.js.map